let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function i(){return e}function n(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types,e.abilities=t.abilities}).catch(function(e){console.log(e)})}let a=()=>{let e=document.getElementById('input-search').value.toLowerCase();document.querySelectorAll('.list-group-item').forEach(t=>{let i=t.querySelector('.btn').innerText.toLowerCase(),n=document.querySelector('.pokemon-list');i.includes(e)?n.classList.add('visible'):t.classList.add('not-visible'),e||t.classList.remove('not-visible')})};return document.getElementById('input-search').addEventListener('input',()=>a()),{add:t,getAll:i,addListItem:function e(t){let i=document.querySelector('.pokemon-list'),a=document.createElement('li');a.classList.add('list-group-item');let o=document.createElement('button');o.innerText=t.name.charAt(0).toUpperCase()+t.name.slice(1),o.classList.add('button-class'),o.classList.add('btn'),o.setAttribute('data-toggle','modal'),o.setAttribute('data-target','#poke-modal'),o.addEventListener('click',function(){return function e(t){n(t).then(function(){var e,i,n,a,o,l;let s=t.name.charAt(0).toUpperCase()+t.name.slice(1),r='';t.types.forEach(e=>{1==e.slot?r+='Type: '+e.type.name.charAt(0).toUpperCase()+e.type.name.slice(1):r+=' and '+e.type.name.charAt(0).toUpperCase()+e.type.name.slice(1)});let p='Height: '+t.height+'ft',c='Weight: '+t.weight+' pounds',d='';t.abilities.forEach(e=>{1==e.slot?d+='Abilities: '+e.ability.name.charAt(0).toUpperCase()+e.ability.name.slice(1):d+=', '+e.ability.name.charAt(0).toUpperCase()+e.ability.name.slice(1)});let u,m,h,f,y,g,b,L;e=s,i=r,n=p,a=c,o=d,l=t.imageUrl,u=$('.modal-body'),(m=$('.modal-title')).empty(),u.empty(),h=$('<h1>'+e+'</h1>'),f=$('<p>'+n+'</p>'),y=$('<p>'+a+'</p>'),g=$('<p>'+i+'</p>'),b=$('<p>'+o+'</p>'),(L=$('<img class="modal-image">')).attr('src',l),m.append(h),u.append(f),u.append(y),u.append(g),u.append(b),u.append(L)})}(t)}),$('ul').addClass('list-group'),a.appendChild(o),i.appendChild(a)},loadList:function e(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=200').then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:n}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});